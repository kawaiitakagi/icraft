# drl4vrp
![version](https://img.shields.io/badge/icraft_ver-3.7.1-gold?style=flat&logo=data:image/png;base64,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)  ![author](https://img.shields.io/badge/author-lxm-blue)<br>![metrics](https://img.shields.io/badge/metrics-ÂæÖÊµã-lightblue?style=flat&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAPYQAAD2EBqD+naQAABLZJREFUaEPtmmnIpWMYx39/+75lyy6ELGNohA8GIUvEB6RBtomYmhhDIlskkmUSWcLIyDKU9QOy88FSjCIylmSZsoxl7OPSf7pOPY7zvs8573Oa55x3nqveOr33fT/P/buv5f7f9zliGTMtY7w0wOPd442HGw+PsxVoQrrdoRGxOrBN4f8LJC0YVseXejgidgXeLQBeJ2lmAzwkK9B4uEMONyFdlsMRsTywPrAKsFDSj4MS8X0P6YjYCJgK7A2sCnwPvAA8IOm7usH7ChwRWwNP5DZm79oC+BV4EjhT0sI6ofsGHBGbA48Du40C9DRwvKSf6oLuC3BErAlcDpwNrJQw3wBfALtkLrcY7wBmSPq5Duh+Ae8P3AVslRBfA1cCLwJHARcAa2WbvTvD/SX9s7ShKwNHhHP1UuB8YDngb8BenClpUUpTA18IrJA5/TpwmqQPhxF4U+Clgt52KB8p6c0WTETY83cCB8CSWxYvihdhliR/7tkiwou3WJKLYtfWDw87ZB9J7/rFDwJTJC0uziIipgC3FELb+vxQSQ7/ri33+B2BycDcXg8y/QA24LGFGR8s6dl2gohYA3gUOCjbvCAO69nd0kbE2sAprvTAzsCNki7qdrz7VQLO1bawaBWkz4HtJP3VaRIR4eL2fKFtnqQJZROOCM/THr0W2AlYLcf8Buwj6Z2yZ7TaqwLvAbxVeNlsSSeP9vKIeAOYVOgzWdLLIyyQ89Q14hzgdMBn83bzTuDU+L0b6KrAnsj1hRcdJ+mhEuCTgLsLOX8PcGqn4hMRvni4DDgEWK8wpviKX4Bzc5v7T93oNI+qwI+5IueDvb9OkvRRCbAVmbV16xblE2BfSV92yHunypb5t316eYe2fq7Sr7mtm22uKrDDbU9gIrAucImkH0qArcpmAa3Qt+KaJuneknEOb4e+DyW2RYAXy0ruT+Bi4CZJ/jyiVQLuJmc6eM3vPCHFycrZPicr9h8jPTMivLjO/02yj/f5w1PIuPLb8zeUHU6WOrAnGxG7A85de8f2nrcbSW+PAnwE4ChYJ/vclprcnu7a6gL2nmwRYjFiOeoKa319eyflFRHuc1X2WTFDeLqjpF3glJHXApxePibD2mLC9ipwtKRvO6TBZnk4aYmW+RkRr5QBtrfXCezi5SJUPD+fKOm+4iRTdByWWnzjbPO52irNur0nqw04vWxJej/gOzDbp8CBklx9l1ietq4Bzkpl6PD30fPqsRwv6wb20XJuVtsWo/X2VEmWrAbeLw8kG2aHr6zHJb3fk2uzc63ACWRt/Exhu/HWdGsqLIew78K2LcDdDEwfi3f9jEEA9pXQtAxT33IuWYcM7w0A53rLHPITq1z71g6cXjbYFdbUhTux9oj9LBXZU2MJ5daYgQBO6C3ymuiMvAoqcn2cIf5wmXQsW4yBAU5oC5K9gPPyCGld/lyKlA9GOmeXQRbbBwq4l4mPtW8D3L5yzRfi0PwCYKz5VMe4JoebHP7/r3h8teKvVgbRXF9G/UnVWEJ6EEFbc5ogad5oE2yAu8jhce9hX6X6EnwYbL6/k64U0sNA2cscS3O4l4cNQ98GeBi8VGWOjYerrN4wjG08PAxeqjLHfwG92SNbyY+y8QAAAABJRU5ErkJggg==)  ![speed](https://img.shields.io/badge/speed-OK-green?style=flat&logo=fastapi)<br><a href="../../index.md#drl" target="_blank"><img alt="Ê®°ÂûãÊ∏ÖÂçï" src="https://img.shields.io/badge/drl-Ê®°ÂûãÊ∏ÖÂçï-cornflowerblue?logo=quicklook"></a><br>![OS](https://img.shields.io/badge/OS-Windows%20%7C%20Ubuntu-green)

# ‰∏ãËΩΩ

‚ú® ‰∏ÄÈîÆ‰∏ãËΩΩÂºÄÂèëÊµÅÁ®ã‰∏≠ÊâÄÈúÄÁöÑÂêÑÁßçÊñá‰ª∂ÔºåÂåÖÊã¨ÁºñËØë‰ΩøÁî®ÁöÑÈáèÂåñÊ†°ÂáÜÈõÜ„ÄÅËøêË°åÊó∂Â∑•Á®ãÁöÑ‰æùËµñÂ∫ìÔºå‰ª•ÂèäËæìÂÖ•ËæìÂá∫Êñá‰ª∂„ÄÇ

üí° Êé®Ëçê‰ΩøÁî®linuxÁâà‰∏ãËΩΩËÑöÊú¨ÔºåÂÖ∂wgetÂåÖÂê´Êñ≠ÁΩëËá™Âä®ÈáçËøûÂäüËÉΩÔºå‰∏ç‰ºöÂá∫Áé∞‰∏ãËΩΩÊñá‰ª∂ÈÅóÊºèÊÉÖÂÜµ„ÄÇ

## windows
üìå Á¨¨‰∏ÄÊ¨°‰ΩøÁî®ÔºåËØ∑Âú®CÁõòÊ†πÁõÆÂΩï‰∏ãÊñ∞Âª∫`icraft_auth.txt`Ôºå‰øùÂ≠ò‰∏ãËΩΩÁ´ôË¥¶Âè∑ÂØÜÁ†ÅÔºå‰ª•Êç¢Ë°åÁ¨¶ÂàÜÈöî

ÈúÄË¶Å‰∫ãÂÖà‰∏ãËΩΩwindowsÁâàÊú¨wgetÔºö

ÔºàËã•ÁÇπÂáª‰ª•‰∏ãÈìæÊé•ÂêéÊú™Áõ¥Êé•‰∏ãËΩΩÔºåËØ∑ÈÄâÊã© ***1.20.3*** ÁâàÊú¨‰∏ãÁöÑÂØπÂ∫îÁ≥ªÁªüÈìæÊé•ËøõË°å‰∏ãËΩΩÔºâ

[x86Á≥ªÁªüwget‰∏ãËΩΩ](https://eternallybored.org/misc/wget/1.20.3/32/wget.exe)		[x64Á≥ªÁªüwget‰∏ãËΩΩ](https://eternallybored.org/misc/wget/1.20.3/64/wget.exe)

‰ΩøÁî®Êó∂ÈúÄË¶ÅÂ∞Üwget.exeÁöÑË∑ØÂæÑ‰Ωú‰∏∫ÂëΩ‰ª§Ë°åÂèÇÊï∞‰º†ÂÖ•ÔºåÊ≥®ÊÑè‰∏çÊòØexeÁöÑÁà∂Êñá‰ª∂Â§πÁõÆÂΩïÔºåËÄåÊòØÂåÖÂê´wget.exeÁöÑÂÆåÊï¥ÁªùÂØπË∑ØÂæÑÔºö

‰∏ç‰∏ãËΩΩDepsÔºö`./download.ps1 "PATH_TO_WGET_EXE"`

Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®Êàë‰ª¨ÁöÑÊ®°ÂûãÂ∫ìÔºåËØ∑‰∏ãËΩΩÂåÖÊã¨Â∑•Á®ã‰æùËµñÂ∫ìÁöÑÊâÄÊúâÊñá‰ª∂Ôºö`./download.ps1 "PATH_TO_WGET_EXE" -d`

üí° ‰∏ãËΩΩËøáÁ®ã‰∏≠ÂèØËÉΩÂõ†ÁΩëÁªúÈóÆÈ¢òÂá∫Áé∞‰∏≠Êñ≠ÊÉÖÂÜµÔºåÈúÄ **Ëá™Ë°åÈáçÊñ∞ËøêË°å** ‰∏ãËΩΩËÑöÊú¨„ÄÇ

## linux

üìå Á¨¨‰∏ÄÊ¨°‰ΩøÁî®ÔºåËØ∑Âú®/usrÊ†πÁõÆÂΩï‰∏ãÊñ∞Âª∫`icraft_auth.txt`Ôºå‰øùÂ≠ò‰∏ãËΩΩÁ´ôË¥¶Âè∑ÂØÜÁ†ÅÔºå‰ª•Êç¢Ë°åÁ¨¶ÂàÜÈöî

‰∏∫Á°Æ‰øùÊñá‰ª∂Ê†ºÂºèÊ≠£Á°ÆÔºåËØ∑Âú®ËøêË°åËÑöÊú¨ÂâçÂÆâË£ÖÊ†ºÂºèËΩ¨Êç¢Â∑•ÂÖ∑`dos2unix`ÔºåÂπ∂ÊâßË°åÊ†ºÂºèËΩ¨Êç¢ÂëΩ‰ª§Ôºö
```shell
sudo apt-get install dos2unix
dos2unix /usr/icraft_auth.txt
dos2unix ./download.sh
```

Â¶ÇÊûúÊÇ®ÊòØÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®Êàë‰ª¨ÁöÑÊ®°ÂûãÂ∫ìÔºåËØ∑‰∏ãËΩΩÂåÖÊã¨Â∑•Á®ã‰æùËµñÂ∫ìÁöÑÊâÄÊúâÊñá‰ª∂Ôºö`./download.sh -d`

Â¶ÇÊûú‰πãÂâçÂ∑≤ÁªèÂú®‰ΩøÁî®Âà´ÁöÑÊ®°ÂûãÊó∂‰∏ãËΩΩËøáDeps‰æùËµñÂ∫ìÔºåÂèØ‰ª•Áõ¥Êé•Â∞ÜÂÖ∂‰∏≠ÁöÑthirdpartyÈÉ®ÂàÜÂ§çÂà∂Âà∞Ë∑ØÂæÑ`3_deploy/Deps`ÔºåÂè™ÈúÄ‰∏ãËΩΩÈáèÂåñÊ†°ÂáÜÈõÜÂíåËæìÂÖ•ËæìÂá∫Êñá‰ª∂Âç≥ÂèØÔºö`./download.sh`


üåü TipsÔºö

- Ëã•ÊÉ≥Ë¶ÅÁõ¥Êé•Ëé∑ÂèñÂéüÂßãweightsÂíåÂØºÂá∫‰øùÂ≠òÁöÑÊ®°ÂûãÔºåÂèØÂàÜÂà´ÂâçÂæÄ [weights](https://download.fdwxhb.com/data/04_FMSH-100AI/100AI/04_modelzoo/modelzoo_pub/weights/) Âíå [fmodels](https://download.fdwxhb.com/data/04_FMSH-100AI/100AI/04_modelzoo/modelzoo_pub/compile/fmodels/) ÁΩëÈ°µ‰∏äÊ†πÊçÆÊ°ÜÊû∂ÂèäÊ®°ÂûãÂêçÂØªÊâæÂπ∂‰∏ãËΩΩ„ÄÇ


# 0. Êñá‰ª∂ÁªìÊûÑËØ¥Êòé

AIÈÉ®ÁΩ≤Ê®°ÂûãÈúÄË¶Å‰ª•‰∏ãÂá†ÈÉ®ÂàÜÊñá‰ª∂

- 0_drl4vrp    >Ê®°ÂûãÂéüÂßãÂ∑•Á®ãÔºåÈúÄË¶ÅËá™Ë°å‰∏ãËΩΩ
- weights              >Â≠òÊîæÂéüÂßãÊùÉÈáçÔºåÈúÄË¶ÅËá™Ë°å‰∏ãËΩΩ
- 1_scripts            >Ëã•Âπ≤ËÑöÊú¨ÔºåÁî®‰∫é‰øùÂ≠òÈÉ®ÁΩ≤ÊâÄÈúÄÊ®°Âûã„ÄÅÊ®°ÂûãÂØºÂá∫È™åËØÅÁ≠âÂäüËÉΩ
- 3_deploy            >Â∞ÜÊ®°ÂûãÈÉ®ÁΩ≤Âà∞Á°¨‰ª∂Êó∂ÈúÄË¶ÅÁöÑc++Â∑•Á®ã

# 1. pythonÂ∑•Á®ãÂáÜÂ§á

## 1. **Ê®°ÂûãÊù•Ê∫êÔºö**

- codeÔºöhttps://github.com/mveres01/pytorch-drl4vrp
- branchÔºömaster
- commit_idÔºö5b9b86e
- weightsÔºöhttps://drive.google.com/open?id=1wxccGStVglspW-qIpUeMPXAGHh2HsFpF

## 2. **‰øùÂ≠òÊ®°Âûã**

**ÁõÆÁöÑÔºöÂ∞ÜÊ®°Âûã‰øùÂ≠òÊàêÂèØÈÉ®ÁΩ≤ÁöÑÂΩ¢ÊÄÅ**

1ÔºâÊ†πÊçÆÊ®°ÂûãÊù•Ê∫ê‰∏≠ÁöÑÂú∞ÂùÄÔºö[https://drive.google.com/open?id=1wxccGStVglspW-qIpUeMPXAGHh2HsFpF ](https://drive.google.com/open?id=1wxccGStVglspW-qIpUeMPXAGHh2HsFpF)Ôºå‰∏ãËΩΩÂéüÂßãweightsÔºåÂ≠òÊîæ‰∫é `/weights`Êñá‰ª∂Â§π‰∏≠

<div style="background-color: #FFFFCC; color: #000000; padding: 10px; border-left: 5px solid #FFA500;">
Ê≥®ÊÑèÔºö

* ÊúâÊó∂ÂºÄÊ∫êÁöÑweights urlÂèØËÉΩ‰ºöÂèòÊõ¥„ÄÇÂ¶ÇÊûúÊàë‰ª¨Êèê‰æõÁöÑweights urlÂ§±ÊïàÔºåËØ∑Ê†πÊçÆÂéüÂ∑•Á®ãÁõ∏Â∫îÁöÑbranch‰ª•ÂèäcommitÁâàÊú¨ÂØªÊâæÊ≠£Á°ÆÁöÑ‰∏ãËΩΩÈìæÊé•
* Ëã•‰∏äËø∞weights urlÊ∞∏‰πÖÂ§±Êïà,ËØ∑ËÅîÁ≥ªÊú¨Ê®°ÂûãÂ∫ìÁõ∏ÂÖ≥‰∫∫ÂëòËé∑ÂèñÊùÉÈôê‰∏ãËΩΩ
</div>

2ÔºâÊ†πÊçÆÊ®°ÂûãÊù•Ê∫ê‰∏≠ÁöÑÂú∞ÂùÄÔºå‰∏ãËΩΩÊåáÂÆöcommit idÁâàÊú¨ÁöÑÊ∫ê‰ª£Á†ÅÔºåÊñá‰ª∂Â§πÂêçÁß∞Ë¶ÅËÆæÁΩÆ‰∏∫Ôºö0_drl4vrp

```shell
# Âú®Ê≠§Ê®°ÂûãÊ†πÁõÆÂΩï
mkdir 0_drl4vrp
git clone -b master https://github.com/mveres01/pytorch-drl4vrp 0_drl4vrp
cd 0_drl4vrp
git checkout 5b9b86e
```

3ÔºâËøõÂÖ•1_scriptsÊâßË°å‰øùÂ≠òÊ®°ÂûãËÑöÊú¨

```shell
# Âú®Ê≠§Ê®°ÂûãÊ†πÁõÆÂΩï
cd 1_scripts
python 1_save.py
```

**1_scriptsÊèê‰æõËÑöÊú¨ËØ¥ÊòéÔºö**

- **ÁéØÂ¢ÉË¶ÅÊ±ÇÔºö**IcraftÁºñËØëÂô®ÂØπ**ÂØºÂá∫Ê°ÜÊû∂Ê®°ÂûãÊó∂**‰ΩøÁî®ÁöÑ**Ê°ÜÊû∂ÁâàÊú¨**ÊúâË¶ÅÊ±Ç„ÄÇÂç≥‰ª•‰∏ãËÑöÊú¨‰∏≠ÊâÄÊúâÂØºÂá∫Ê®°ÂûãÁöÑËÑöÊú¨`1_save.py  `ÔºåÂøÖÈ°ªÂú®Ë¶ÅÊ±ÇÁöÑÊ°ÜÊû∂ÁâàÊú¨‰∏ãÊâßË°åÔºåÂÖ∂‰ªñËÑöÊú¨‰∏çÈôêÂà∂„ÄÇË¶ÅÊ±ÇÁöÑÁâàÊú¨Ôºö
  
  - **pytorch**ÔºöÊîØÊåÅpytorch1.9.0„ÄÅpytorch2.0.1‰∏§‰∏™ÁâàÊú¨ÁöÑÂéüÁîüÁΩëÁªúÊ®°ÂûãÊñá‰ª∂Ôºà.ptÊ†ºÂºèÔºâÔºå‰ª•ÂèäpytorchÊ°ÜÊû∂‰øùÂ≠ò‰∏∫onnxÔºàopset=17ÔºâÊ†ºÂºèÁöÑÊ®°ÂûãÊñá‰ª∂Ôºà.onnxÊ†ºÂºèÔºâ
  - **paddle**Ôºö‰ªÖÊîØÊåÅPaddlePaddleÊ°ÜÊû∂‰øùÂ≠ò‰∏∫onnxÔºàopset=11ÔºâÊ†ºÂºèÁöÑÊ®°ÂûãÊñá‰ª∂Ôºà.onnxÊ†ºÂºèÔºâÔºå‰∏çÊîØÊåÅÊ°ÜÊû∂ÂéüÁîüÁΩëÁªúÊ®°ÂûãÊñá‰ª∂
  - **darknet**ÔºöÊîØÊåÅDarknetÊ°ÜÊû∂ÂéüÁîüÁΩëÁªúÊ®°Âûã[GitHub - pjreddie/darknet: Convolutional Neural Networks](https://github.com/pjreddie/darknet)
  
- 0_infer.py                      	    >ÂèØ‰ª•Êé®ÁêÜ‰∏ÄÂº†ÂõæÂπ∂ÂæóÂà∞ÊúÄÁªàÁªìÊûúÔºåÊ®°ÂûãÂéüÂßãÊùÉÈáç‰ºö‰ªé `/weights	`‰∏≠ÂØªÊâæÔºåÈúÄË¶ÅÊÇ®È¢ÑÂÖà‰∏ãËΩΩ

- 1_save.py                              >‰øùÂ≠òÊ®°ÂûãÔºå‰øùÂ≠òÂ•ΩÁöÑÁî®‰∫éÈÉ®ÁΩ≤ÁöÑÊ®°ÂûãÔºå‰ºöÂ≠òÊîæÂú® `/3_deploy/modelzoo/drl4vrp/imodel`

  <div style="background-color: #FFFFCC; color: #000000; padding: 10px; border-left: 5px solid #FFA500;">
  ‰øùÂ≠òÊ®°ÂûãÊó∂ÁöÑ‰øÆÊîπÁÇπÔºö   

  1. Â∞ÜÊ®°ÂûãÁî±3ËæìÂÖ•‰øÆÊîπ‰∏∫5ËæìÂÖ•<br>
  2. ÂØºÂá∫Ëø≠‰ª£‰∏ÄÊ¨°ÁöÑÁªìÊûú(max_steps=1)<br>
  3. Â∞ÜptrËÆ°ÁÆó‰πãÂêéÁöÑÊìç‰ΩúÂéªÊéâÔºåÂπ∂Ê∑ªÂä†last_hh‰Ωú‰∏∫ËæìÂá∫ÁÆóÂ≠ê<br>
  </div>
  
- 2_save_infer.py                    >Áî®‰øÆÊîπÂêé‰øùÂ≠òÁöÑÊ®°ÂûãÂÅöÂâçÂêëÊé®ÁêÜÔºåÈ™åËØÅ‰øùÂ≠òÁöÑÊ®°Âûã‰∏éÂéüÊ®°ÂûãÊòØÂê¶‰∏ÄËá¥


# 2. ÈÉ®ÁΩ≤Ê®°Âûã

ÁõÆÁöÑÔºöÁºñËØëc/c++ÂèØÊâßË°åÁ®ãÂ∫èÔºåÂú®Á°¨‰ª∂‰∏äË∞ÉÁî®onnxruntimeËøõË°åÂâçÂêëÊé®ÁêÜ

Ê®°ÂûãÂ∫ì‰ª•ubuntuÊìç‰ΩúÁ≥ªÁªü‰∏∫‰æãÔºö

1. **ÁºñËØëÁéØÂ¢ÉÂáÜÂ§á**
   - os: ubuntu20.04
   - cmake>=3.10
   - compiler: aarch64-linux-gnu-g++/aarch64-linux-gnu-gcc

2. **ÁâàÊú¨‰æùËµñ‰∏ãËΩΩ**

   ËØ∑Ëá≥[modelzoo_pub/deploy/Deps/onnxruntime.zip](https://download.fdwxhb.com/data/04_FMSH-100AI/100AI/04_modelzoo/modelzoo_pub/deploy/Deps/onnxruntime.zip)‰∏ãËΩΩ‰∏ªË¶ÅÁâàÊú¨‰æùËµñÔºåËß£ÂéãÂêéÂ≠òÊîæÂú®`\3_deploy\modelzoo\drl4vrp\onnxruntime`„ÄÇ<br>
   ‰∏ãËΩΩÂêéÊñá‰ª∂ÁªìÊûÑ‰∏∫Ôºö
   ```shell
   ‚îú‚îÄ‚îÄ include
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ cpu_provider_factory.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_c_api.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_cxx_api.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_cxx_inline.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_float16.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_run_options_config_keys.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_session_options_config_keys.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_training_c_api.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_training_cxx_api.h
   ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ onnxruntime_training_cxx_inline.h
   ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ provider_options.h
   ‚îî‚îÄ‚îÄ lib
      ‚îú‚îÄ‚îÄ aarch64
      ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ libonnxruntime.so
      ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ libonnxruntime.so.1.17.1
      ‚îî‚îÄ‚îÄ x64
         ‚îú‚îÄ‚îÄ libonnxruntime.so
         ‚îî‚îÄ‚îÄ libonnxruntime.so.1.17.1
   
   ```
   
3. **ÁºñËØëc++Á®ãÂ∫è**
  ÁõÆÂâçÂè™ÊîØÊåÅlinux_x64Âíålinux_aarch64ÁéØÂ¢ÉÁöÑReleaseÁºñËØëÔºåÈúÄË¶ÅÊèêÂâçÂÆâË£ÖÂ•Ωaarch64‰∫§ÂèâÁºñËØëÂô®(apt install g++-aarch64-linux-gnu)
  * ‰∫§ÂèâÁºñËØë aarch64ÂèØÊâßË°åÊñá‰ª∂: 
   ```shell
   #Âú®3.1ÊâÄÈúÄÁöÑlinuxÁºñËØëÁéØÂ¢É‰∏≠
   cd 3_deploy/modelzoo/drl4vrp/build_arm
   cmake .. -DCMAKE_BUILD_TYPE=RELEASE -DCMAKE_SYSTEM_NAME=Linux -DCMAKE_SYSTEM_PROCESSOR=aarch64 -DCMAKE_C_COMPILER=aarch64-linux-gnu-gcc -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++
   make -j12
   ```
   * ËøêË°åÂâçÈúÄË¶ÅÊâãÂä®Êäälibonnxruntime.so, libonnxruntime.so.1.17.1Â§çÂà∂Âà∞ËøêË°åÁéØÂ¢É‰∏≠Ôºå‰æãÂ¶Ç usr/lib‰∏ã   
   * Â∞ÜÁºñËØëÂæóÂà∞ÁöÑÁöÑÂèØÊâßË°åÊñá‰ª∂`drl_run`Â§çÂà∂Ëá≥Áâá‰∏äÁ≥ªÁªü`/home/fmsh/ModelZoo/drl4vrp/`Âç≥ÂèØ


   Ê®°ÂûãËæìÂÖ•ÂùáÂú® `3_deploy/modelzoo/drl4vrp/io`‰∏≠ÔºåÂèØÊ†πÊçÆÈúÄË¶ÅËøõË°åÊõøÊç¢ÔºåÁîüÊàêÊñπÂºèÂ¶Ç‰∏ãÔºö
  ```shell
   # input
   static =torch.rand((1, 2, 20))
   dynamic = torch.zeros((1,1,20))
   decoder_input = torch.zeros((1,2,1))
   last_hh = torch.zeros((1,1,128))
   mask = torch.ones((1,20))
  ```
  ÊúÄÂêéÊâãÂä®ÊîæÂÖ•ÂØπÂ∫î`3_deploy/modelzoo/drl4vrp/io`‰∏≠

5. **ÈÉ®ÁΩ≤ÁéØÂ¢ÉÊ£ÄÊü•**

   * ‰ª•rootË¥¶Êà∑ÁôªÂΩïÁâá‰∏äÁ≥ªÁªüterminalÔºàsshÊàñ‰∏≤Âè£ÁöÜÂèØÔºâÔºåÊ®°ÂûãÂ∫ìÈªòËÆ§ÁöÑÊ®°ÂûãÂ≠òÊîæË∑ØÂæÑ‰∏∫‰ª•‰∏ãÁõÆÂΩïÔºåÂ¶ÇÊûúÊ≤°ÊúâËØ∑È¢ÑÂÖàÂàõÂª∫Ôºö

   ```
   /home/fmsh/ModelZoo/
   ```

   * Â∞Ü3_deploy‰∏≠ÊâÄÊúâÊñá‰ª∂Â§πÂ§çÂà∂Âà∞‰ª•‰∏äÁõÆÂΩï‰∏≠ÔºàÂ¶ÇÊûú**Deps**‰∏≠Â∑≤ÁªèÂ≠òÂú®**Áõ∏Âêå**ÁâàÊú¨ÁöÑ‰æùËµñÂàôÂèØ‰ª•‰∏çÂøÖÂÜçÂ§çÂà∂Ôºâ

   * 3_deploy/modelzoo/drl4vrpÂ∑•Á®ãÁªìÊûÑÂ¶Ç‰∏ã   
    ‚îú‚îÄ‚îÄ build   
    ‚îú‚îÄ‚îÄ build_arm   
    ‚îú‚îÄ‚îÄ CMakeLists.txt   
    ‚îú‚îÄ‚îÄ CMakePresets.json   
    ‚îú‚îÄ‚îÄ cmake   
    ‚îú‚îÄ‚îÄ onnxruntime   
    ‚îú‚îÄ‚îÄ imodel   
    ‚îú‚îÄ‚îÄ io   
    ‚îú‚îÄ‚îÄ drl_run   
    ‚îî‚îÄ‚îÄ source   
   * 3_deploy/modelzoo/drl4vrpÂ∑•Á®ãÊñá‰ª∂ËØ¥Êòé   
     * build: linux_x64‰∏ãÁöÑËøêË°åÁ§∫‰æãÔºådrl_runÊòØsourceÂ∑•Á®ãÁöÑÁºñËØëÁªìÊûú   
     * build_arm: linux_aarch64‰∏ãÁöÑËøêË°åÁ§∫‰æãÔºådrl_runÊòØsourceÂ∑•Á®ãÁöÑÁºñËØëÁªìÊûúÔºåËøêË°åÂâçÈúÄË¶ÅÊâãÂä®Êäälibonnxruntime.so, libonnxruntime.so.1.17.1Â§çÂà∂Âà∞ËøêË°åÁéØÂ¢É‰∏≠Ôºå‰æãÂ¶Ç usr/lib‰∏ã   
     * drl_run: Ê®°ÂûãÂâçÂêëÊé®ÁêÜÂ∑•Á®ã   
     * CMakeLists.txt: CMakeÈÖçÁΩÆÊñá‰ª∂   
     * CMakePresets.json: CMakeÈÖçÁΩÆÊñá‰ª∂   
     * cmake: CMakeÈÖçÁΩÆÊñá‰ª∂   
     * onnxruntime: includeÂíålib‰æùËµñÊñá‰ª∂ÔºåincludeÊñá‰ª∂ÊòØÂÖ±‰∫´ÁöÑÔºålibÊñá‰ª∂ÂàÜÂà´ÂØπÂ∫îaarch64‰∫§ÂèâÁºñËØëÂíåx64ÁºñËØëÁéØÂ¢ÉÔºåcmakeÁºñËØë‰ºöËá™Âä®ÈÄâÊã©‰æùËµñÔºõ   
     * source: Â∑•Á®ãÂâçÂêë‰ª£Á†Åmain.cpp   
     * io: ËæìÂÖ•ÔºåÂèØÊ†πÊçÆÈúÄÊ±ÇÊâãÂä®ÁîüÊàêÊõøÊç¢
6. **ÊâßË°åÁ®ãÂ∫è**

   ËøêË°åÂâçËØ∑Á°Æ‰øùÂ∑≤ÁªèÊâãÂä®Â∞Ü3_deploy\modelzoo\drl4vrp\onnxruntime\lib\aarch64‰∏ãÁöÑlibonnxruntime.so, libonnxruntime.so.1.17.1Â§çÂà∂Âà∞ËøêË°åÁéØÂ¢É‰∏≠Ôºå‰æãÂ¶Ç usr/lib‰∏ã, ÁÑ∂ÂêéÊâßË°åÔºö
   ```
   cd /home/fmsh/ModelZoo/modelzoo/drl4vrp
   chmod 777 *
   ./drl_run
   ```

   Âú®ÁªàÁ´ØÂèØÊü•ÁúãÁ®ãÂ∫èËøêË°åÁªìÊûúÔºåÊòæÁ§∫ÊúÄÁªàËø≠‰ª£ÁöÑËæìÂá∫ÂèäËÄóÊó∂
   
   



# 3. Ê®°ÂûãÊÄßËÉΩËÆ∞ÂΩï

| drl4vrp | input shape     | hard time      |
| -------------- | --------------- | -------------- | 
| float          | [1,2,20],[1,1,20],[1,2,1],[1,1,128],[1,20] | 26ms              | 

